<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<title>SeedVault</title>
<link rel='manifest' href='/manifest.json'>
<link rel="shortcut icon" href="a198cd0c_e2f0_4c99_ba51_342624a24db9_WP4_icon.ico" type="image/x-icon"/>
<link href="https://fonts.com/css?family=Nunito+Sans:400,900&display=swap" rel="stylesheet">

<link rel="stylesheet" href="css/styles.css">

<style>
* {
  box-sizing: border-box;
  text-align: center;
}
a {
  color: #0f6939;
  transition: color 0.3s;
}
a:hover {
  color: #865e0d;
}
h3, h2, p {
  font-family: 'Nunito Sans', sans-serif;
  text-align: center;
  color: #281d05;
}
h1:hover {
  animation-name: artshadow;
  animation-timing-function: ease-in-out;
  animation-fill-mode: both;
  animation-duration: 0.5s;
  animation-delay: 0.1s;
}
@keyframes artshadow {
  from {}
  to {text-shadow: 2px 2px 5px rgba(134, 94, 13, 0.5);}
}
h1 {
  color: #0d512d;
  font-family: 'Nunito Sans', sans-serif;
  font-weight: 900;
}
.center {
  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 20%;
}
body {
  background-color: #e1d7c6;
}
</style>
</head>

<body>

<div class="header"></div>

<img src="seed.png" align="center" class="center" alt="SeedVault Logo">

<h1><a href="./"><b>SeedVault</b></a></h1>
<h2>The Digital Archive for Indigenous Languages & Culture</h2>
<h3>
    <a href="seed.html">**Seed**</a> | 
    <a href="about.html">**About**</a> |
    <a href="upload.html">**Upload**</a>
</h3>
  
<div class="login-modal" id="loginModal">
  <div class="login-box">
    <button onclick="closeLoginModal()" style="position: absolute; top: 10px; right: 10px; background: transparent; border: none; font-size: 1.5rem; cursor: pointer; color: #999;">&times;</button>
    <h2>Login to SeedVault</h2>
    <input type="text" id="username" placeholder="Username (admin, tribe1, tribe2, tribe3, guest)">
    <input type="password" id="password" placeholder="Password">
    <button onclick="handleLogin()">Login</button>
    <div class="alert" id="loginError"></div>
    <p style="font-size: 0.9rem; margin-top: 1rem; color: #666;">
      <strong>Test Accounts:</strong><br>
      admin/seedvault | tribe1/tribe1pass | guest/guest123
    </p>
  </div>
</div>

<script>
let deferredPrompt = null;
window.addEventListener('beforeinstallprompt', (e) => {
 e.preventDefault();
 deferredPrompt = e;
});

async function install() {
 if (deferredPrompt) {
  deferredPrompt.prompt();
  console.log(deferredPrompt)
  deferredPrompt.userChoice.then(function(choiceResult){
    if (choiceResult.outcome === 'accepted') {
      console.log('Your PWA has been installed');
    } else {
      console.log('User chose to not install your PWA');
    }
    deferredPrompt = null;
  });
 }
}

// Auto-open login modal if not logged in
window.addEventListener('load', () => {
  const loggedInUser = localStorage.getItem('loggedInUser');
  if (!loggedInUser) {
    openLoginModal();
  }
});
</script>

<script src="js/auth.js" defer></script>

</body>
</html>
